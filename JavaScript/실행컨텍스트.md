## ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸(Execution Context)

ìë°”ìŠ¤í¬ë¦½íŠ¸ ìŠ¤í™ì—ë„ ëª…ì‹œ ë˜ì–´ ìˆì–´, ì´ë¥¼ ì´í•´í•˜ë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë™ì‘ì„ ìŠ¤í™ ë ˆë²¨ì—ì„œ ì´í•´í•˜ê³  í™œìš©í•  ìˆ˜ ìˆë‹¤.

## ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ëŠ” ê³¼ì •

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ í™˜ê²½ì—ëŠ” ë¸Œë¼ìš°ì € í™˜ê²½, node.jsë¥¼ ì´ìš©í•œ ë¡œì»¬ í™˜ê²½ ë“±ì´ ìˆìŒ

ì´ ì‹¤í–‰ í™˜ê²½ì—ì„œ ê³µí†µì ìœ¼ë¡œ ë²Œì–´ì§€ëŠ” ì¼ì„ í™•ì¸í•´ë³´ì.

### **ì–´ë–¤ ì½”ë“œë„ ì—†ëŠ” ê²½ìš°**

```jsx
// ì–´ë–¤ ì½”ë“œë„ ì—†ëŠ” ê²½ìš°
```

HTML, CSSë¡œë§Œ êµ¬ì„±ëœ í˜ì´ì§€ë¥¼ ë¸Œë¼ìš°ì €ì—ì„œ ë¡œë“œí–ˆì„ ë•Œê°€ ìˆë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ ì–´ë–¤ ì½”ë“œê°€ ì—†ì–´ë„ ë‹¤ìŒ ì„¸ê°€ì§€ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™” í•œë‹¤.

- this : window (ì½”ë“œ ì‹¤í–‰ ì‹œì ì˜ í™˜ê²½)
- ë³€ìˆ˜ë“¤ì„ ë‹´ëŠ” Variable Object(ë³€ìˆ˜ ê°ì²´) : {}
- Scope chain : [] (ìµœìƒìœ„ ë‹¨ì˜ scopeì´ë¯€ë¡œ, ì—°ê²°ë  scopeê°€ ì—†ìŒ)

> ğŸ‘©â€ğŸ’» **ì •ë¦¬!**

- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ ì½”ë“œê°€ ì—†ì–´ë„ ì‹¤í–‰ í™˜ê²½(ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸)ë¥¼ ì´ˆê¸°í™”í•œë‹¤.
- ìŠ¤ì½”í”„(scope)ëŠ” ì½”ë“œê°€ í˜„ì¬ ì‹¤í–‰ë˜ëŠ” í™˜ê²½, ë§¥ë½(context)ì„ ì˜ë¯¸í•œë‹¤.
- this í¬ì¸í„°, ìŠ¤ì½”í”„ì— ì €ì¥ëœ ë³€ìˆ˜ë“¤, ìŠ¤ì½”í”„ ì²´ì¸ ë“±ì´ í™˜ê²½ì— í¬í•¨ëœë‹¤.
- this í¬ì¸í„°ì˜ ê²½ìš°, ê¸€ë¡œë²Œ ìŠ¤ì½”í”„ì—ì„œëŠ” windowë¥¼ ê°€ë¦¬í‚¨ë‹¤.

this í¬ì¸í„°ë¼ê³  í‘œí˜„ì„ í–ˆëŠ”ë°, ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ë ˆí¼ëŸ°ìŠ¤ ë³€ìˆ˜ë¡œ ì´í•´í•˜ë©´ ëœë‹¤.

### íŠ¹ì • í•¨ìˆ˜ê°€ ì¡´ì¬í•˜ê³ , ê·¸ í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ë•Œ

```jsx
function myFunc() {
  let a = 10;
  let b = 10;
  function add(first, second) {
    return first + second;
  }
  return add(a, b);
}

myFunc();
```

1. ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ ìµœìƒìœ„ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•œë‹¤.

![](https://velog.velcdn.com/images/younngg1012/post/3d5e2332-58f6-4291-be8c-cac5d9a63cbe/image.png)

![](https://velog.velcdn.com/images/younngg1012/post/601b67a0-80af-41e6-a044-afb696f8dff5/image.png)

ê¸€ë¡œë²Œ ì»¨í…ìŠ¤íŠ¸ì˜ VOì—ëŠ” myFuncê°€ í¬í•¨ëœë‹¤.

myFunc í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ì—ˆì„ ë•Œ myFunc ì‹¤í–‰ì»¨í…ìŠ¤íŠ¸ê°€ ìƒˆë¡­ê²Œ ë§Œë“¤ì–´ì§„ë‹¤. ê¸°ì¡´ì˜ ê¸€ë¡œë²Œ ì»¨í…ìŠ¤íŠ¸ëŠ” ê·¸ëŒ€ë¡œ ì¡´ì¬í•œë‹¤.

myFunc í•¨ìˆ˜ê°€ ì¢…ë£Œë˜ë©´ ë§¨ ìœ„ì˜ ì‹¤í–‰ì»¨í…ìŠ¤íŠ¸ê°€ ì œê±°ë˜ê³ , ëª¨ë“  ì½”ë“œê°€ ëë‚˜ë©´ ê¸€ë¡œë²Œ ì»¨í…ìŠ¤íŠ¸ë„ ì œê±°ëœë‹¤.

ì´ëŠ” ìŠ¤íƒ êµ¬ì¡°ë¡œ êµ¬ì„±ë˜ì–´ìˆë‹¤.

> call stack : ì‹¤í–‰ì»¨í…ìŠ¤íŠ¸ê°€ ìŒ“ì´ë©´ì„œ êµ¬ì„±ë˜ëŠ” ê²ƒ

ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ strict modeë¡œ ì‹¤í–‰ë˜ì—ˆì„ ë•Œ myFuncì˜ thisëŠ” undefinedê°€ ëœë‹¤.

**ìŠ¤ì½”í”„ì²´ì¸**

ë§Œì•½ ë‹¤ë¥¸ ë³€ìˆ˜ë¥¼ ì°¾ì•„ì•¼ í•  ê²½ìš°, ìŠ¤ì½”í”„ ì²´ì¸ì„ ë”°ë¼ ë³€ìˆ˜ë¥¼ ê²€ìƒ‰í•˜ëŠ” ìš©ë„ë¡œ í™œìš©ëœë‹¤.

> ğŸ‘©â€ğŸ’»**ì •ë¦¬!**

- í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´, í•¨ìˆ˜ ìŠ¤ì½”í”„ì— ë”°ë¼ í™˜ê²½ì´ ë§Œë“¤ì–´ì§„ë‹¤.
- this, í•¨ìˆ˜ ìŠ¤ì½”í”„ì˜ ë³€ìˆ˜ë“¤, ê·¸ë¦¬ê³  ìŠ¤ì½”í”„ ì²´ì¸ì´ í˜•ì„±ëœë‹¤.
- ìŠ¤ì½”í”„ ì²´ì¸ì„ ë”°ë¼ ê¸€ë¡œë²Œ í™˜ê²½ì— ë„ë‹¬í•œë‹¤.

### ê°ì²´ê°€ ìˆê³  ê·¸ ê°ì²´ì˜ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²½ìš°

```jsx
let o = {
  name: 'Daniel',
  method: function (number) {
    return this.name.repeat(number);
  },
};

function myFunc() {
  let n = 10;
  return o.method(n);
}

myFunc();
```

![](https://velog.velcdn.com/images/younngg1012/post/69eaddcf-2a87-4890-a7a4-c9947d8c5c69/image.png)

> ğŸ‘©â€ğŸ’» **ì •ë¦¬!**

- ê°ì²´ì˜ ë©”ì„œë“œì˜ ê²½ìš°, ë©”ì„œë“œ í™˜ê²½ì˜ thisëŠ” í•´ë‹¹ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ê²Œ ëœë‹¤.
- í•˜ì§€ë§Œ thisê°€ ê°€ë¦¬í‚¤ëŠ” ê²ƒì€ í™˜ê²½ì— ë”°ë¼ ë³€í•  ìˆ˜ ìˆë‹¤.

## ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸

- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œê°€ ì‹¤í–‰ë˜ëŠ” í™˜ê²½
- ì½”ë“œì—ì„œ ì°¸ì¡°í•˜ëŠ” ë³€ìˆ˜, ê°ì²´(í•¨ìˆ˜ í¬í•¨), this ë“±ì— ëŒ€í•œ ë ˆí¼ëŸ°ìŠ¤ê°€ ìˆë‹¤.
- ì „ì—­ì—ì„œ ì‹œì‘í•´ í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ ìŠ¤íƒì— ìŒ“ì´ê²Œ ëœë‹¤.

```jsx
let a = 10;

function f1() {
  let b = 20;

  function print(v) {
    console.log(v);
  }

  function f2() {
    let c = 30;
    print(a + b + c);
  }

  f2();
}

f1();
```

![](https://velog.velcdn.com/images/younngg1012/post/4dcf0e62-6ae4-4f73-b593-7fd0fce353b6/image.png)

console ì€ VO ì•ˆì´ ì•„ë‹ˆë¼ ìœˆë„ìš° ê°ì²´ ë°‘ì— ìˆëŠ” ë³€ìˆ˜ì§€ë§Œ ì „ì—­ì—ì„œ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜ë¼ í¸ì˜ìƒ ê°™ì´ í‘œê¸°

ì•„ë˜ì„œë¶€í„°

ì „ì—­ - f1 - f2 - print (consoleì€ ì „ì—­ì—ì„œ ì°¸ì¡°)

**ì½œìŠ¤íƒ**

í•¨ìˆ˜ê°€ ëë‚˜ëŠ”ëŒ€ë¡œ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìŠ¤íƒ ìœ„ì—ì„œë¶€í„° ì œê±°ëœë‹¤. ê°€ì¥ ë§ˆì§€ë§‰ì— ìŒ“ì¸ ê²ƒì´ ê°€ì¥ ë¨¼ì € ì œê±°ë˜ëŠ” êµ¬ì¡°ì´ë‹¤.

**ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì˜ ì¢…ë¥˜**

ê°€ì¥ ìµœìƒìœ„ ìŠ¤ì½”í”„ì—ëŠ” ê¸€ë¡œë²Œ ìŠ¤ì½”í”„ê°€ ìˆê³ , ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì²˜ìŒ ì‹¤í–‰ë  ë•Œ, ë˜ëŠ” ëª¨ë“  í•¨ìˆ˜ í˜¸ì¶œì´ ëë‚¬ì„ ë•Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì „ì—­ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¡œ ë§Œë“¤ì–´ì§€ê³ , ë˜ëŒì•„ì˜¨ë‹¤.

í•¨ìˆ˜ê°€ ì‹¤í–‰ ë  ë•ŒëŠ” í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ë§Œë“¤ì–´ì§„ë‹¤.

ì „ì—­ì— ì¡´ì¬í•˜ëŠ” ì½”ë“œëŠ” í•¨ìˆ˜ë‚˜ í´ë˜ìŠ¤ ë‚´ë¶€ì˜ ì½”ë“œë¥¼ ë¬´ì‹œí•˜ê³  ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°€ì§„ë‹¤.

í•¨ìˆ˜ì— ì¡´ì¬í•˜ëŠ” ì½”ë“œëŠ” í•¨ìˆ˜ ë‚´ë¶€ì—ì„œë§Œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°€ì§„ë‹¤.

## ë ‰ì‹œì»¬ í™˜ê²½

**ì‹ë³„ìì™€ ì‹ë³„ìì— ì—°ê²°ëœ ê°’ì„ ì €ì¥í•˜ëŠ” ìë£Œêµ¬ì¡°**

```jsx
const myName = 'Elice';

function Coder() {
  const title = 'Coder Land';
  return title;
}
```

ì „ì—­ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ë ‰ì‹œì»¬ í™˜ê²½ì—ì„œëŠ” `myName`, `Coder` ì´ë ‡ê²Œ 2ê°œì˜ ì‹ë³„ìì™€ ì‹ë³„ìì— ì—°ê²°ëœ ê°’ì´ ì €ì¥ëœë‹¤.

myNameì—ëŠ” Eliceê°€ ë“¤ì–´ìˆì§€ë§Œ, CoderëŠ” ìŠ¤ì½”í”„ ì²´ì¸ìœ¼ë¡œ Coderì™€ ì—°ê²°ë˜ì–´ ìˆë‹¤.

**`Coder`**í•¨ìˆ˜ì˜ ë ‰ì‹œì»¬ í™˜ê²½ì—ì„œëŠ”Â **`title`**ì´ë¼ëŠ” 1ê°œì˜ ì‹ë³„ìì™€ ì‹ë³„ìì— ì—°ê²°ëœ ê°’ì´ ì €ì¥ëœë‹¤. ë˜í•œ, ì „ì—­ ë ‰ì‹œì»¬ í™˜ê²½ì—Â **ìŠ¤ì½”í”„ ì²´ì¸**ìœ¼ë¡œ ì—°ê²°ë˜ì–´ ìˆë‹¤. ì „ì—­ì—ì„œëŠ”Â **`Coder`**ë¼ëŠ” ì •ë³´ë¥¼ ê°–ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤.

## this

### ë™ì  ë°”ì¸ë”©(dynamic binding)

í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ìƒí™©ì€ 4ê°€ì§€ê°€ ìˆë‹¤

- í•¨ìˆ˜ í˜¸ì¶œ - í•¨ìˆ˜ë¥¼ ì§ì ‘ í˜¸ì¶œ
- ë©”ì„œë“œ í˜¸ì¶œ - ê°ì²´ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œ
- ìƒì„±ì í˜¸ì¶œ - ìƒì„±ìí•¨ìˆ˜ í˜¸ì¶œ
- ê°„ì ‘ í˜¸ì¶œ - call, apply ë“±ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ê°„ì ‘ í˜¸ì¶œ
- ë¬¸ë²•ì ìœ¼ë¡œ í˜¸ì¶œ ë˜ëŠ” ê²ƒ ì™¸ì— ì½œë°± í•¨ìˆ˜ì˜ í˜¸ì¶œì´ ìˆë‹¤.
  - ì½œë°± í•¨ìˆ˜ëŠ” íŠ¹ì • ë™ì‘ ì´í›„ ë¶ˆë ¤ì§€ëŠ” í•¨ìˆ˜
  - ë³´í†µ ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ì¸ìë¡œ ë³´ë‚´ì§€ëŠ” í•¨ìˆ˜ë¥¼ ì˜ë¯¸

```jsx
function myFunc() {
  console.log('myFunc called');
}

myFunc(); // ì§ì ‘ í˜¸ì¶œ // thisëŠ” windowë¥¼ ê°€ë¦¬í‚´

const o = {
  name: 'Daniel',
  printName: function () {
    console.log(this.name);
  },
};

o.printName(); // ë©”ì„œë“œ í˜¸ì¶œ // thisëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ë¥¼ ê°€ë¦¬í‚´, í•˜ì§€ë§Œ í•¨ìˆ˜ì˜ ë‚´ë¶€ì— ë˜ í•¨ìˆ˜ë¥¼ ë§Œë“¤ê³  thisë¥¼ í˜¸ì¶œí•˜ë©´ ë™ì  ë°”ì¸ë”©ìœ¼ë¡œ ì¸í•´ ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚´

function Person(name) {
  this.name = name;
  this.printName = function () {
    console.log(this.name);
  };
}

const p = new Person('Daniel'); // ìƒì„±ì í˜¸ì¶œ

setTimeout(p.printName.bind(p), 1000); // ê°„ì ‘ í˜¸ì¶œ
```

- í•¨ìˆ˜ì˜ í˜¸ì¶œ í™˜ê²½ì— ë”°ë¼ thisëŠ” ë™ì ìœ¼ë¡œ ì„¸íŒ…ëœë‹¤.
- ì´ë ‡ê²Œ thisê°€ í™˜ê²½ì— ë”°ë¼ ë°”ë€ŒëŠ” ê²ƒì„ ë™ì  ë°”ì¸ë”©(dynamic binding)ì´ë¼ í•œë‹¤.
- bind, apply, call ë“±ìœ¼ë¡œ thisê°€ ê°€ë¦¬í‚¤ëŠ” ê²ƒì„ ì¡°ì‘í•  ìˆ˜ ìˆë‹¤.

```jsx
let o = {
  name: 'Daniel',
  f1: () => {
    console.log('[f1] this : ', this);
  },
  f2: function () {
    console.log('[f2] this : ', this);
  },
};

o.f1(); // global
o.f2(); // o

setTimeout(o.f1, 10); // global
setTimeout(o.f2, 20); // global
```

- f1ì€ í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ, í˜¸ì¶œ ì‹œ thisëŠ” í•¨ìˆ˜ê°€ ìƒì„±ëœ í™˜ê²½ì„ ê°€ë¦¬í‚¤ë„ë¡ ê³ ì •ëœë‹¤.
- f2ëŠ” ì¼ë°˜ í•¨ìˆ˜ë¡œ, thisëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œëœ í™˜ê²½ì„ ê°€ë¦¬í‚¤ë©° ë™ì ìœ¼ë¡œ ë°”ë€” ìˆ˜ ìˆë‹¤.
- f2ëŠ” ê°ì²´ì˜ ë©”ì„œë“œë¡œ í˜¸ì¶œë  ë•Œ ê°ì²´ê°€ thisë¡œ í• ë‹¹ëœë‹¤.
- ìµœìƒë‹¨ ìŠ¤ì½”í”„ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” ì „ì—­ì´ë‹¤.
- setTimeoutìœ¼ë¡œ í•¨ìˆ˜ì˜ ì‹¤í–‰ í™˜ê²½ì„ ë°”ê¾¼ë‹¤.

### thisë¥¼ ì¡°ì‘í•˜ëŠ” ê²½ìš°

```jsx
let o = {
  name: 'Daniel',
  printName: function () {
    console.log('ë‚´ ì´ë¦„ì€ ', this.name);
  },
};

o.printName(); // ë‚´ ì´ë¦„ì€ Daniel

setTimeout(o.printName, 10); // ë‚´ ì´ë¦„ì€ undefined
setTimeout(o.printName.bind(o), 20); // ë‚´ ì´ë¦„ì€ Daniel
```

ì¼ë°˜ í•¨ìˆ˜ì˜ ê²½ìš°, í™”ì‚´í‘œ í•¨ìˆ˜ì™€ ë‹¤ë¥´ê²Œ bindë¡œ thisë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

- bind, call, apply ë“±ì˜ í•¨ìˆ˜ë¡œ thisë¥¼ ì¡°ì‘
- setTimeoutì€ ì½œë°± í˜¸ì¶œ
- printName ë©”ì„œë“œëŠ” bind í•¨ìˆ˜ë¥¼ ì´ìš©í•´ this ë³€ìˆ˜ê°€ oë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë™ì  ë°”ì¸ë”©í•œë‹¤.

### this ê³ ì •í•˜ê¸°

1. **í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ê³ ì •í•˜ê¸°**

   ìƒì„±ì í•¨ìˆ˜ë¡œ ë§Œë“  ê°ì²´, ê°ì²´ ë¦¬í„°ëŸ´ ë°©ì‹ìœ¼ë¡œ ë§Œë“  ê°ì²´ ëª¨ë‘ ë‚´ë¶€ì—ì„œÂ **`this`**ê°€ ìê¸° ìì‹ ì„ ê°€ë¦¬í‚¨ë‹¤. í•˜ì§€ë§Œ ë‘ ê²½ìš° ëª¨ë‘ ë‚´ë¶€ì—ì„œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ê³  í•´ë‹¹ í•¨ìˆ˜ì—ì„œÂ **`this`**ë¥¼ ì¶œë ¥í•˜ë©´Â **`window`**ë¥¼ ê°€ë¦¬í‚¨ë‹¤.

```jsx
/* ìƒì„±ì í•¨ìˆ˜ ë°©ì‹ */
function createObject() {
  this.myFunc = function () {
    console.log('myFunc this:', this);
    return function () {
      console.log('myFunc return this:', this);
    };
  };
}

const o = new createObject();
o.myFunc()();
// myFunc        this: createObject {...}
// myFunc return this: window {...}

/* ê°ì²´ ë¦¬í„°ëŸ´ ë°©ì‹ */
const o = {
  myFunc: function () {
    console.log('myFunc this:', this);
    return function () {
      console.log('myFunc return this:', this);
    };
  },
};

o.myFunc()();
// myFunc        this: myFunc {...}
// myFunc return this: window {...}
```

**í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ê°ì²´ ìµœìƒìœ„ ìŠ¤ì½”í”„ë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.**

```jsx
/* ìƒì„±ì í•¨ìˆ˜ ë°©ì‹ */
function createObject() {
  this.myFunc = function () {
    console.log('myFunc this:', this);
    // ë‹¤ìŒ ë¶€ë¶„ì„ í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ë³€ê²½
    return () => {
      console.log('myFunc return this:', this);
    };
  };
}

const o = new createObject();
o.myFunc()();
// myFunc        this: createObject {...}
// myFunc return this: createObject {...}

/* ê°ì²´ ë¦¬í„°ëŸ´ ë°©ì‹ */
const o = {
  myFunc: function () {
    console.log('myFunc this:', this);
    // ë‹¤ìŒ ë¶€ë¶„ì„ í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ë³€ê²½
    return () => {
      console.log('myFunc return this:', this);
    };
  },
};

o.myFunc()();
// myFunc        this: myFunc {...}
// myFunc return this: myFunc {...}
```

1. **call, apply, bind ë©”ì„œë“œë¡œ ê³ ì •í•˜ê¸°**

bind

```jsx
/* ìƒì„±ì í•¨ìˆ˜ ë°©ì‹ */
function createObject() {
  this.myFunc = function () {
    console.log('myFunc this:', this);
    return function () {
      console.log('myFunc return this:', this);
    };
  };
}

const o = new createObject();
o.myFunc().bind(o)(); // bind ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ oê°ì²´ë¡œ ê³ ì •ì‹œí‚µë‹ˆë‹¤.
// myFunc        this: createObject {...}
// myFunc return this: createObject {...}

/* ê°ì²´ ë¦¬í„°ëŸ´ ë°©ì‹ */
const o = {
  myFunc: function () {
    console.log('myFunc this:', this);
    return function () {
      console.log('myFunc return this:', this);
    };
  },
};

o.myFunc().bind(o)(); // bind ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ oê°ì²´ë¡œ ê³ ì • ê·¸ë¦¬ê³  í•¨ìˆ˜ë¥¼ ì‹¤í–‰
// myFunc        this: myFunc {...}
// myFunc return this: myFunc {...}
```

apply, call

callì€ ì¸ìˆ˜ ëª©ë¡ì„ ë°›ê³ , applyëŠ” ì¸ìˆ˜ ë°°ì—´ì„ í•˜ë‚˜ ë°›ëŠ”ë‹¤.

**`ex) call(this, var1, var2, var3, â€¦) / apply(this, [ el, el2, el3, â€¦ ])`**

```jsx
/* ìƒì„±ì í•¨ìˆ˜ ë°©ì‹ */
function createObject() {
  this.myFunc = function () {
    console.log('myFunc this:', this);
    return function () {
      console.log('myFunc return this:', this);
    };
  };
}

const o = new createObject();
o.myFunc().call(o, null); // call  ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ oê°ì²´ë¡œ ê³ ì •ì‹œí‚¨ í›„ í•¨ìˆ˜ ì‹¤í–‰
// myFunc        this: createObject {...}
// myFunc return this: createObject {...}
o.myFunc().apply(o, null); // apply ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ oê°ì²´ë¡œ ê³ ì •ì‹œí‚¨ í›„ í•¨ìˆ˜ ì‹¤í–‰
// myFunc        this: createObject {...}
// myFunc return this: createObject {...}

/* ê°ì²´ ë¦¬í„°ëŸ´ ë°©ì‹ */
const o = {
  myFunc: function () {
    console.log('myFunc this:', this);
    return function () {
      console.log('myFunc return this:', this);
    };
  },
};

o.myFunc().call(o, null); // call  ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ oê°ì²´ë¡œ ê³ ì •ì‹œí‚¨ í›„ í•¨ìˆ˜ ì‹¤í–‰
// myFunc        this: myFunc {...}
// myFunc return this: myFunc {...}
o.myFunc().apply(o, null); // apply ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ oê°ì²´ë¡œ ê³ ì •ì‹œí‚¨ í›„ í•¨ìˆ˜ ì‹¤í–‰
// myFunc        this: myFunc {...}
// myFunc return this: myFunc {...}
```

```jsx
const o = {
  name: 'Elice',
};

function myFunc() {
  console.log(this);
}

myFunc(); // window {...}
myFunc.bind(o)(); // {name: 'Elice'}
myFunc.call(o, null); // {name: 'Elice'}
myFunc.apply(o, null); // {name: 'Elice'}
```

### í™”ì‚´í‘œ í•¨ìˆ˜ì™€ ì¼ë°˜ í•¨ìˆ˜ì˜ this

- í™”ì‚´í‘œ í•¨ìˆ˜ì˜ thisëŠ” í˜¸ì¶œëœ í•¨ìˆ˜ë¥¼ ë‘˜ëŸ¬ì‹¼ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
- ì¼ë°˜ í•¨ìˆ˜ì˜ thisëŠ” ìƒˆë¡­ê²Œ ìƒì„±ëœ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°€ë¦¬í‚¨ë‹¤.

```jsx
let o = {
  method() {
    console.log('context: ', this); // o
    let f1 = function () {
      console.log('[f1] this : ', this);
    };
    let f2 = () => {
      console.log('[f2] this : ', this);
    };

    f1(); // global
    f2(); // o
  },
};

o.method();
```

- f1()ì€ ì‹¤í–‰ë  ë•Œ ìƒˆë¡œìš´ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•œë‹¤.
- ì´ë•Œ f1ì— ë°”ì¸ë”© ëœ ì»¨í…ìŠ¤íŠ¸ê°€ ì—†ìœ¼ë¯€ë¡œ thisëŠ” globalì„ ê°€ë¦¬í‚¨ë‹¤.
- f2()ëŠ” í•¨ìˆ˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ë©° this ë³€ìˆ˜ëŠ” ë¶€ëª¨ì˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°€ë¦¬í‚¨ë‹¤. ë”°ë¼ì„œ thisëŠ” oê°€ ëœë‹¤.

> ğŸ‘©â€ğŸ’»**ì •ë¦¬!**

- í™”ì‚´í‘œ í•¨ìˆ˜ì˜ thisëŠ” ì •í•´ì§€ë©´ ë°”ê¿€ ìˆ˜ ì—†ë‹¤.
- call, bind, applyë¥¼ ì‚¬ìš©í•´ë„ ë°”ë€Œì§€ ì•ŠëŠ”ë‹¤.
- setTimeout ë“± thisê°€ ë°”ë€ŒëŠ” ìƒí™©ì—ì„œ ìœ ìš©í•˜ë‹¤.

## Closure

### í•¨ìˆ˜ëŠ” ì¼ê¸‰ ê°ì²´

- ì¼ê¸‰ ê°ì²´ë€, ë‹¤ë¥¸ ë³€ìˆ˜ì²˜ëŸ¼ ëŒ€ìƒì„ ë‹¤ë£° ìˆ˜ ìˆëŠ” ê²ƒì„ ë§í•¨
- ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ í•¨ìˆ˜ëŠ” ì¼ê¸‰ ê°ì²´ë‹¤. ì¦‰, í•¨ìˆ˜ëŠ” ë³€ìˆ˜ì²˜ëŸ¼ ë‹¤ë£° ìˆ˜ ìˆë‹¤.

```jsx
let f = function () {};
```

- fëŠ” í•¨ìˆ˜ ê°ì²´ê°€ ëœë‹¤.
- ìš°ë¦¬ê°€ ë§Œë“  ëª¨ë“  í•¨ìˆ˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ functionì´ë¼ëŠ” ì „ì—­ ê°ì²´ë¥¼ ìƒì†ë°›ì€ ì¸ìŠ¤í„´ìŠ¤ê°€ ëœë‹¤.
- bind, call, apply ë„ function ê°ì²´ì˜ ë©”ì†Œë“œë¼ì„œ í”„ë¡œí† íƒ€ì… ì²´ì¸ìœ¼ë¡œ ì¸í•´ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.

```jsx
const Person = (name) => {
  // í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ë¡œ ìƒì„±í•œë‹¤.
  const printName = () => console.log(name);
  return { printName };
}; // í•¨ìˆ˜ë¥¼ ë¦¬í„´í•˜ë©° closureë¥¼ ìƒì„±í•œë‹¤.
```

- ìë°”ìŠ¤í¬ë¦½íŠ¸ í´ë¡œì €ëŠ” í•¨ìˆ˜ì˜ ì¼ê¸‰ ê°ì²´ ì„±ì§ˆì„ ì´ìš©í•¨
- í•¨ìˆ˜ê°€ ìƒì„±ë  ë•Œ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë³€ìˆ˜ë“¤ì´ ì™¸ë¶€ì— ì¡´ì¬í•˜ëŠ” ê²½ìš° ê·¸ ë³€ìˆ˜ë“¤ì€ **í•¨ìˆ˜ì˜ ìŠ¤ì½”í”„ì— ì €ì¥**ë˜ëŠ”ë°, **í•¨ìˆ˜ì™€ í•¨ìˆ˜ê°€ ì‚¬ìš©í•˜ëŠ” ë³€ìˆ˜ë“¤ì„ ì €ì¥í•œ ê³µê°„ì„ í´ë¡œì €(closure)**ë¼ í•œë‹¤.
- íŒ©í† ë¦¬ í•¨ìˆ˜ ë‚´ë¶€ì— ë³€ìˆ˜ê°€ ìˆì„ ë•Œ jsëŠ” ê·¸ ë³€ìˆ˜ë¥¼ í´ë¡œì € ê³µê°„ì— ì €ì¥í•œë‹¤. ê·¸ë˜ì„œ ë¦¬í„´ëœ í•¨ìˆ˜ì™€ ë³€ìˆ˜ê°€ ìƒëª…ì„ ê°™ì´ í•˜ë„ë¡ ë§Œë“ ë‹¤.

> íŒ©í† ë¦¬ í•¨ìˆ˜ : í•¨ìˆ˜ë¥¼ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜

```jsx
function createCard() {
  let title = '';
  let content = '';

  function changeTitle(text) {
    title = text;
  }
  function changeContent(text) {
    content = text;
  }

  function print() {
    console.log('Title : ', title);
    console.log('Content : ', content);
  }

  return { changeTitle, changeContent, print };
}

const card1 = createCard();

card1.changeTitle('ìƒì¼ ì¹´ë“œ');
card1.changeContent('ìƒì¼ ì¶•í•˜í•´');
card1.print();
```

```jsx
let rate = 1.05;

function app() {
  let base = 10;

  return function (price) {
    return price * rate + base;
  };
}

const getPrice = app();
getPrice(120); // 136
```

### í´ë¡œì €

- baseëŠ” app í•¨ìˆ˜ ë‚´ë¶€, rateëŠ” app í•¨ìˆ˜ ì™¸ë¶€ì˜ ìŠ¤ì½”í”„ì— ì¡´ì¬í•œë‹¤.
- í•¨ìˆ˜ê°€ ì°¸ì¡°í•˜ëŠ” ë³€ìˆ˜ëŠ” ì‹¤í–‰ ì‹œì ì— ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì— ì˜í•´ ìŠ¤ì½”í”„ê°€ ê²°ì •ëœë‹¤.
- rateëŠ” ì™¸ë¶€ ë³€ìˆ˜ë¡œ, í´ë¡œì €ì— ì €ì¥ëœ ê²ƒì´ ì•„ë‹ˆë‹¤.
- ìŠ¤ì½”í”„ì— ë”°ë¼ì„œ ë³€ìˆ˜ì— ì˜í–¥ì„ ë°›ëŠ”ë‹¤. rateì˜ ë³€ê²½ì€ ë‘ í´ë¡œì € í•¨ìˆ˜ í˜¸ì¶œì— ë°˜ì˜ë˜ì§€ë§Œ, baseëŠ” ì¦ê°€í•´ë„ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤.
- baseëŠ” app í˜¸ì¶œ ì‹œ ë§¤ë²ˆ ìƒì„±ë˜ëŠ” ë°˜ë©´, rateëŠ” ë§¤ë²ˆ ìƒì„±ë˜ì§€ ì•ŠëŠ”ë‹¤.

### í´ë¡œì €ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ?

- **ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ì€ë‹‰í•˜ê³  ë³´ì¡´ì‹œí‚¤ê¸° ìœ„í•´**
- ì´ë¥¼ ìˆ˜ì •í•˜ê¸° ìœ„í•œ ë°©ë²•ì€ íŠ¹ì • í•¨ìˆ˜ì—ê²Œë§Œ ê·¸ ê¶Œí•œì„ ì£¼ëŠ” ê²ƒ

```jsx
function createCard() {
  let title = '';
  let content = '';

  function changeTitle(text) {
    title = text;
  }

  function changeContent(text) {
    content = text;
  }

  function print() {
    console.log('TITLE -', title);
    console.log('CONTENT -', content);
  }

  return { changeTitle, changeContent, print };
}
```

`const myCard = createCard()`ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ ë¦¬í„´ë˜ëŠ” í•¨ìˆ˜ë¥¼ í†µí•´ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
ëª¨ë“  ì´ë¯¸ì§€ì˜ ì¶œì²˜ëŠ” (ì£¼)ì—˜ë¦¬ìŠ¤ì— ìˆìŠµë‹ˆë‹¤.
